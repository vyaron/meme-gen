'use strict';const _0x40397c=_0x9617;(function(_0x4092cd,_0x18d0a1){const _0x21aa17=_0x9617,_0x5c1b2f=_0x4092cd();while(!![]){try{const _0x5ba1ad=parseInt(_0x21aa17(0xf6))/0x1*(-parseInt(_0x21aa17(0xd6))/0x2)+parseInt(_0x21aa17(0xb3))/0x3+parseInt(_0x21aa17(0xd9))/0x4+parseInt(_0x21aa17(0xe3))/0x5*(-parseInt(_0x21aa17(0xc6))/0x6)+-parseInt(_0x21aa17(0xa3))/0x7+parseInt(_0x21aa17(0xaf))/0x8+-parseInt(_0x21aa17(0xb2))/0x9;if(_0x5ba1ad===_0x18d0a1)break;else _0x5c1b2f['push'](_0x5c1b2f['shift']());}catch(_0x401421){_0x5c1b2f['push'](_0x5c1b2f['shift']());}}}(_0x4687,0xb2683));const MAX_RANDOM_LINES_AMOUNT=0x2,MEME_STORAGE_KEY='DB_MEME',IMG_STORAGE_KEY='DB_IMAGE',ANNOTATED_IMG_STORAGE_KEY=_0x40397c(0xf9),G_IMAGES_STORAGE_KEY=_0x40397c(0xc4),FONTS=[_0x40397c(0xc2),_0x40397c(0xc1),_0x40397c(0xa9),_0x40397c(0xdd),_0x40397c(0xa5),_0x40397c(0xfa),_0x40397c(0xde),_0x40397c(0xb0),_0x40397c(0xe0),_0x40397c(0xb7),_0x40397c(0xbd)],DUMMY_LINE={'txt':_0x40397c(0xa1),'size':0x28,'align':_0x40397c(0xa2),'strokeStyle':_0x40397c(0xe2),'fillStyle':_0x40397c(0xe1)};let gKeywordSearchCountMap={'happy':0xd,'sad':0xd,'crazy':0xf,'sarcastic':0x11,'funny':0x14},gImgs,gMeme={},gCurrFont=_0x40397c(0xc2);const gCreationPos={'x':0x32,'y':0x0};_setGImages();function _setGImages(){const _0x154737=_0x40397c;gImgs=loadFromStorage(G_IMAGES_STORAGE_KEY),(!gImgs||!gImgs[_0x154737(0xed)])&&(gImgs=[{'id':makeId(),'url':'img/0001.jpg','keywords':['smart',_0x154737(0xca)],'name':_0x154737(0xae)},{'id':makeId(),'url':_0x154737(0xb9),'keywords':[_0x154737(0xc7),'tomb'],'name':_0x154737(0xcf)},{'id':makeId(),'url':_0x154737(0xfc),'keywords':[_0x154737(0xa6),_0x154737(0xd2)],'name':_0x154737(0xec)},{'id':makeId(),'url':'img/0004.jpg','keywords':['mega\x20mind',_0x154737(0xe4)],'name':_0x154737(0xfd)},{'id':makeId(),'url':_0x154737(0xef),'keywords':[_0x154737(0xb8),_0x154737(0xc9),_0x154737(0xcb)],'name':_0x154737(0xa4)},{'id':makeId(),'url':_0x154737(0xa7),'keywords':[_0x154737(0xb8),'chris'],'name':'Meme\x20Name'},{'id':makeId(),'url':_0x154737(0xea),'keywords':[_0x154737(0xb8),_0x154737(0xd8)],'name':_0x154737(0xd3)},{'id':makeId(),'url':'img/0008.jpg','keywords':[_0x154737(0xac),'batman',_0x154737(0x9e)],'name':_0x154737(0xd3)},{'id':makeId(),'url':_0x154737(0xda),'keywords':[_0x154737(0xee),_0x154737(0xb8)],'name':_0x154737(0xd3)},{'id':makeId(),'url':_0x154737(0xd0),'keywords':['drake','no',_0x154737(0xf3)],'name':'Meme\x20Name'},{'id':makeId(),'url':_0x154737(0xd1),'keywords':[_0x154737(0xf2),_0x154737(0xad)],'name':_0x154737(0xd3)},{'id':makeId(),'url':_0x154737(0xba),'keywords':[_0x154737(0xaa),_0x154737(0xe6)],'name':_0x154737(0xd3)},{'id':makeId(),'url':'img/0013.jpg','keywords':[_0x154737(0xb5),_0x154737(0xb8)],'name':_0x154737(0xd3)},{'id':makeId(),'url':_0x154737(0xbc),'keywords':['sad',_0x154737(0xd4)],'name':_0x154737(0xd3)},{'id':makeId(),'url':_0x154737(0xf5),'keywords':[_0x154737(0xdf),'pikachu'],'name':_0x154737(0xd3)},{'id':makeId(),'url':_0x154737(0xb4),'keywords':[_0x154737(0xd7),'corporate'],'name':_0x154737(0xd3)},{'id':makeId(),'url':_0x154737(0xa8),'keywords':[_0x154737(0xce),_0x154737(0xdb)],'name':'Meme\x20Name'},{'id':makeId(),'url':_0x154737(0xb1),'keywords':['funny',_0x154737(0xc3)],'name':_0x154737(0xd3)},{'id':makeId(),'url':_0x154737(0xd5),'keywords':[_0x154737(0xb6),_0x154737(0xe8)],'name':_0x154737(0xd3)},{'id':makeId(),'url':_0x154737(0xdc),'keywords':[_0x154737(0xb8),_0x154737(0xf8)],'name':_0x154737(0xd3)}],saveToStorage(G_IMAGES_STORAGE_KEY,gImgs));}function getMeme(){return gMeme;}function getFonts(){return FONTS;}function getKeyWordMap(){return gKeywordSearchCountMap;}function updateKeyWordMap(_0x1a4ca9,_0x407803){gKeywordSearchCountMap[_0x1a4ca9]=_0x407803;}function getImages(){return gImgs;}function getImagesByFilter(_0x2bd84b=''){const _0x1aa5cb=_0x40397c;return gImgs['filter'](_0x246109=>_0x246109[_0x1aa5cb(0xf4)][_0x1aa5cb(0xcd)](_0x5c1c18=>_0x5c1c18['toLowerCase']()[_0x1aa5cb(0xe9)](_0x2bd84b[_0x1aa5cb(0xfb)]())));}function getImgById(_0x4cf037){return gImgs['find'](_0x47b41b=>_0x47b41b['id']===_0x4cf037);}function getCurrImg(){const _0x22a463=_0x40397c;return getImgById(gMeme[_0x22a463(0xc5)]);}function getImgByUrl(_0x39668e){const _0x10284a=_0x40397c;return gImgs['find'](_0x29e555=>_0x29e555[_0x10284a(0xe7)]===_0x39668e);}function getImgByIdx(_0x3bea2a){return gImgs[_0x3bea2a];}function setLineTxt(_0x3c53d0){const _0xd45c16=_0x40397c;if(!gMeme[_0xd45c16(0xeb)]['length'])return;resetSelectedLine();const _0x27082e=gMeme['selectedLineIdx'];gMeme[_0xd45c16(0xeb)][_0x27082e][_0xd45c16(0xc8)]=_0x3c53d0||'Add\x20Text\x20Here';}function appendLineTxt(_0x2dec14){const _0x5ca768=_0x40397c;if(!gMeme[_0x5ca768(0xeb)][_0x5ca768(0xed)])return;resetSelectedLine();const _0x301187=gMeme[_0x5ca768(0xf1)],_0x5ba676=gMeme[_0x5ca768(0xeb)][_0x301187]['txt'];if(_0x2dec14===_0x5ca768(0xbb)){gMeme[_0x5ca768(0xeb)][_0x301187][_0x5ca768(0xc8)]=_0x5ba676[_0x5ca768(0xc0)](0x0,_0x5ba676[_0x5ca768(0xed)]-0x1);if(_0x5ba676[_0x5ca768(0xed)]===0x1)deleteLine();}else{if(_0x2dec14['length']>0x1)return;gMeme[_0x5ca768(0xeb)][_0x301187][_0x5ca768(0xc8)]+=_0x2dec14;}}function setLinePos(_0xe89f3d,_0x1f6490){const _0x310044=_0x40397c,_0x55a791=gMeme[_0x310044(0xf1)];gMeme[_0x310044(0xeb)][_0x55a791][_0x310044(0xf7)]['x']+=_0xe89f3d,gMeme['lines'][_0x55a791][_0x310044(0xf7)]['y']+=_0x1f6490;}function updateLineSize(_0x214aee){const _0xa813b3=_0x40397c;if(!gMeme[_0xa813b3(0xeb)][_0xa813b3(0xed)])return;resetSelectedLine();const _0xaec012=gMeme[_0xa813b3(0xf1)];gMeme[_0xa813b3(0xeb)][_0xaec012]['size']+=_0x214aee;}function setLineAlign(_0x406948){const _0x473d02=_0x40397c;if(!gMeme[_0x473d02(0xeb)][_0x473d02(0xed)])return;resetSelectedLine();const _0x1a7d4f=gMeme[_0x473d02(0xf1)];gMeme[_0x473d02(0xeb)][_0x1a7d4f]['align']=_0x406948;}function _0x4687(){const _0x4efc0a=['times\x20new\x20\x20roman','toLowerCase','img/0003.jpg','Megamind\x20peeking','slap','splice','src','Add\x20Text\x20Here','left','5235153fAKteR','Patrick\x20star','trebuchet\x20ms','peter','img/0006.jpg','img/0017.jpg','verdana','dinosaur','push','crazy','fututrama','Brains\x20meme','5926880FSIVFI','garamond','img/0018.jpg','56484cjHpOQ','3059514GRgTvy','img/0016.jpg','penguin','cute','brush\x20script\x20mt','funny','img/0002.jpg','img/0012.jpg','Backspace','img/0014.jpg','poppins','user\x20meme','getAttribute','substring','arial','impact','woman','DB_G_IMAGES','selectedImgId','12nfselc','death','txt','patrick','brains','science','strokeStyle','some','sarcastic','Peace\x20sign\x20tombstone\x20meme','img/0010.jpg','img/0011.jpg','family\x20guy','Meme\x20Name','happy','img/0019.jpg','46490DXrUwn','same','guy','3766000FlKKie','img/0009.jpg','red','img/0020.jpg','tahoma','georgia','surprised','courier\x20new','#ffffff','#000000','253820cgvCZz','blue','font','philosoraptor','url','dogs','includes','img/0007.jpg','lines','Peter\x20running\x20meme','length','jesus','img/0005.jpg','fillStyle','selectedLineIdx','sad','yes','keywords','img/0015.jpg','48MGxxLn','pos','obama','DB_ANNOTATED_IMG'];_0x4687=function(){return _0x4efc0a;};return _0x4687();}function setLineFont(_0x309abd){const _0x53ac57=_0x40397c;gCurrFont=_0x309abd;if(!gMeme[_0x53ac57(0xeb)][_0x53ac57(0xed)])return;resetSelectedLine();const _0x134a6d=gMeme[_0x53ac57(0xf1)];gMeme['lines'][_0x134a6d][_0x53ac57(0xe5)]=_0x309abd;}function _0x9617(_0x4d7e64,_0x4c6fea){const _0x468738=_0x4687();return _0x9617=function(_0x961723,_0x3fa8df){_0x961723=_0x961723-0x9e;let _0x7a0774=_0x468738[_0x961723];return _0x7a0774;},_0x9617(_0x4d7e64,_0x4c6fea);}function setStrokeStyle(_0xab6cca){const _0x434ba5=_0x40397c;if(!gMeme[_0x434ba5(0xeb)][_0x434ba5(0xed)])return;resetSelectedLine();const _0x2cc31f=gMeme[_0x434ba5(0xf1)];gMeme['lines'][_0x2cc31f][_0x434ba5(0xcc)]=_0xab6cca;}function setFillStyle(_0x270c71){const _0x1d0cda=_0x40397c;resetSelectedLine();if(!gMeme[_0x1d0cda(0xeb)][_0x1d0cda(0xed)])return;const _0x58fb90=gMeme[_0x1d0cda(0xf1)];gMeme['lines'][_0x58fb90][_0x1d0cda(0xf0)]=_0x270c71;}function getStrokeStyle(){const _0x58ec0e=_0x40397c,_0x10bacd=gMeme['selectedLineIdx'];return gMeme[_0x58ec0e(0xeb)][_0x10bacd][_0x58ec0e(0xcc)];}function getFillStyle(){const _0x47011e=_0x40397c,_0x477ac1=gMeme[_0x47011e(0xf1)];return gMeme[_0x47011e(0xeb)][_0x477ac1][_0x47011e(0xf0)];}function setSelectedLine(_0x585f8e){const _0x5640ae=_0x40397c;gMeme[_0x5640ae(0xf1)]=_0x585f8e;}function _createLine({txt:txt=_0x40397c(0xa1),size:_0x53ee46,align:_0x138658,strokeStyle:_0x534a7b,fillStyle:_0x135bb0}){return gCreationPos['x']+=0x32,gCreationPos['y']+=0x32,{'txt':txt,'size':_0x53ee46,'font':gCurrFont,'align':_0x138658,'strokeStyle':_0x534a7b,'fillStyle':_0x135bb0,'pos':{...gCreationPos}};}function addLine(){const _0x56107d=_0x40397c,_0x269b33=_createLine(DUMMY_LINE);gMeme['lines'][_0x56107d(0xab)](_0x269b33),gMeme[_0x56107d(0xf1)]=gMeme['lines'][_0x56107d(0xed)]-0x1;}function deleteLine(){const _0x675c08=_0x40397c;if(gMeme[_0x675c08(0xf1)]===-0x1)return;gMeme['lines'][_0x675c08(0x9f)](gMeme['selectedLineIdx'],0x1),gMeme['selectedLineIdx']--;}function getCurrLine(){const _0xa87d96=_0x40397c,_0xb565b6=gMeme[_0xa87d96(0xf1)];return gMeme[_0xa87d96(0xeb)][_0xb565b6];}function switchLine(){const _0x245650=_0x40397c;gMeme[_0x245650(0xf1)]+=0x1;if(gMeme[_0x245650(0xf1)]>=gMeme[_0x245650(0xeb)]['length'])gMeme['selectedLineIdx']=0x0;}function setLineEmpty(){gMeme['selectedLineIdx']=-0x1;}function saveMeme(_0x4e5551,_0x17985f,_0x173393){const _0x22e964=_0x40397c,_0x2ef1b9=loadFromStorage(MEME_STORAGE_KEY)||[],_0x19f493=loadFromStorage(IMG_STORAGE_KEY)||[],_0x32d527=loadFromStorage(ANNOTATED_IMG_STORAGE_KEY)||[];_0x2ef1b9[_0x22e964(0xab)](_0x4e5551),_0x19f493[_0x22e964(0xab)](_0x17985f),_0x32d527[_0x22e964(0xab)](_0x173393),saveToStorage(ANNOTATED_IMG_STORAGE_KEY,_0x32d527),saveToStorage(MEME_STORAGE_KEY,_0x2ef1b9),saveToStorage(IMG_STORAGE_KEY,_0x19f493),saveToStorage(G_IMAGES_STORAGE_KEY,gImgs);}function deleteSaved(_0x15e4fb){const _0x57fcef=_0x40397c,_0x286015=loadFromStorage(MEME_STORAGE_KEY)||[],_0x3b7f51=loadFromStorage(IMG_STORAGE_KEY)||[],_0x2a86ad=loadFromStorage(ANNOTATED_IMG_STORAGE_KEY)||[];_0x286015[_0x57fcef(0x9f)](_0x15e4fb,0x1),_0x3b7f51[_0x57fcef(0x9f)](_0x15e4fb,0x1),_0x2a86ad['splice'](_0x15e4fb,0x1),saveToStorage(ANNOTATED_IMG_STORAGE_KEY,_0x2a86ad),saveToStorage(MEME_STORAGE_KEY,_0x286015),saveToStorage(IMG_STORAGE_KEY,_0x3b7f51),saveToStorage(G_IMAGES_STORAGE_KEY,gImgs);}function getLoadedMemes(){return loadFromStorage(MEME_STORAGE_KEY)||[];}function getLoadedImgs(){return loadFromStorage(IMG_STORAGE_KEY)||[];}function getLoadedAnnotatedImgs(){return loadFromStorage(ANNOTATED_IMG_STORAGE_KEY)||[];}function loadMeme(_0x2c100b){const _0xa5fec3=_0x40397c;gMeme={'selectedImgId':_0x2c100b[_0xa5fec3(0xc5)],'selectedLineIdx':_0x2c100b[_0xa5fec3(0xf1)],'lines':structuredClone(_0x2c100b[_0xa5fec3(0xeb)])};}function setMeme(_0x13efef,_0x346618=![]){const _0x10f657=_0x40397c;let _0x4dac51;if(_0x346618)_0x4dac51=_createRandomLines();else _0x4dac51=[_createLine(DUMMY_LINE)];let _0x5a1aa2=getImgByUrl(_0x13efef[_0x10f657(0xbf)](_0x10f657(0xa0)));!_0x5a1aa2&&(_0x5a1aa2=_createImgFromUpload(_0x13efef),gImgs[_0x10f657(0xab)](_0x5a1aa2)),gMeme={'selectedImgId':_0x5a1aa2['id'],'selectedLineIdx':0x0,'lines':_0x4dac51};}function _createRandomLine(){return{'txt':makeLorem(getRandomInt(0x3,0x6)),'size':getRandomInt(0x1e,0x3d),'font':getRandomFont(),'strokeStyle':getRandomColor(),'fillStyle':getRandomColor(),'pos':{'x':getRandomInt(0x32,0x65),'y':getRandomInt(0x32,0x65)}};}function _createRandomLines(){const _0x5cc3e4=_0x40397c;let _0x2e2439=[];const _0x4b37ed=getRandomInt(0x0,MAX_RANDOM_LINES_AMOUNT);for(let _0x1c6647=0x0;_0x1c6647<=_0x4b37ed;_0x1c6647++){_0x2e2439[_0x5cc3e4(0xab)](_createRandomLine());}return _0x2e2439;}function _createImgFromUpload(_0x160947){const _0x451c69=_0x40397c;return{'id':makeId(),'url':_0x160947['getAttribute'](_0x451c69(0xa0)),'keywords':[],'name':_0x451c69(0xbe)};}function getRandomFont(){const _0xed7a46=getRandomInt(0x0,FONTS['length']);return FONTS[_0xed7a46];}function resetSelectedLine(){const _0x3656a3=_0x40397c;if(gMeme[_0x3656a3(0xf1)]===-0x1)gMeme['selectedLineIdx']=0x0;}